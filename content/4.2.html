<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instrucciones de Temporización y Conteo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Tierra y Mar (neutros cálidos con acentos de azul) -->
    <!-- Application Structure Plan: Se ha diseñado una SPA (Single Page Application) que explica las instrucciones de temporización y conteo (TON, TOF, CTU, CTD) a través de un sistema de navegación por pestañas o "cards" seleccionables. La interfaz se divide en dos secciones principales: una barra lateral de navegación para elegir la instrucción y un panel de contenido dinámico para mostrar la información detallada. Este diseño permite al usuario explorar de forma no lineal y enfocada, ideal para comparar conceptos técnicos de manera eficiente. -->
    <!-- Visualization & Content Choices: 1. Tarjetas de Instrucción: Se utilizan contenedores HTML estilizados para cada instrucción. Objetivo: Organizar visualmente la información y servir como puntos de interacción. Interacción: Al hacer clic en una tarjeta, se activa un estado visual (color, sombra) y se actualiza el panel de contenido. Justificación: Un sistema de tarjetas es intuitivo y estéticamente agradable. 2. Panel de Contenido Dinámico: Un único contenedor que cambia su contenido en función de la selección del usuario. Objetivo: Proporcionar información detallada y estructurada sin sobrecargar la interfaz. Interacción: El contenido textual cambia dinámicamente con JavaScript. Justificación: Mantiene el diseño limpio, presentando solo la información relevante en un momento dado. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f4;
        }
        .instruction-card {
            transition: all 0.3s ease-in-out;
            border-width: 2px;
            border-color: #e7e5e4;
        }
        .instruction-card.active {
            border-color: #3b82f6;
            background-color: #eff6ff;
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .content-panel {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .content-panel.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="text-stone-800">

    <div class="container mx-auto px-4 py-8 md:py-12">

        <header class="text-center mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-stone-900">Instrucciones de Temporización y Conteo</h1>
            <p class="mt-2 text-lg text-stone-600 max-w-3xl mx-auto">Explora cómo las instrucciones de temporización y conteo permiten controlar eventos en el tiempo y el número de ocurrencias.</p>
        </header>

        <main class="lg:flex lg:space-x-8">
            <!-- Navigation Sidebar -->
            <nav class="bg-white p-6 rounded-lg shadow-md border border-stone-200 mb-8 lg:mb-0 lg:w-1/3 h-fit">
                <h2 class="font-bold text-xl text-stone-900 mb-4">Instrucciones</h2>
                <div class="space-y-4">
                    <div class="instruction-card bg-white p-6 rounded-lg shadow-sm cursor-pointer text-center" data-target="ton">
                        <h3 class="font-bold text-3xl text-stone-800">TON</h3>
                        <p class="text-sm text-stone-600 mt-1">Temporizador con Retardo a la Conexión</p>
                    </div>
                    <div class="instruction-card bg-white p-6 rounded-lg shadow-sm cursor-pointer text-center" data-target="tof">
                        <h3 class="font-bold text-3xl text-stone-800">TOF</h3>
                        <p class="text-sm text-stone-600 mt-1">Temporizador con Retardo a la Desconexión</p>
                    </div>
                    <div class="instruction-card bg-white p-6 rounded-lg shadow-sm cursor-pointer text-center" data-target="ctu">
                        <h3 class="font-bold text-3xl text-stone-800">CTU</h3>
                        <p class="text-sm text-stone-600 mt-1">Contador Ascendente</p>
                    </div>
                    <div class="instruction-card bg-white p-6 rounded-lg shadow-sm cursor-pointer text-center" data-target="ctd">
                        <h3 class="font-bold text-3xl text-stone-800">CTD</h3>
                        <p class="text-sm text-stone-600 mt-1">Contador Descendente</p>
                    </div>
                </div>
            </nav>

            <!-- Main Content Panel -->
            <section class="flex-1 bg-white p-8 rounded-lg shadow-md border border-stone-200">
                <div id="initial-panel" class="content-panel active text-center text-stone-500 min-h-[400px] flex items-center justify-center">
                    <p class="text-lg">Selecciona una instrucción para ver los detalles y un ejemplo.</p>
                </div>

                <div id="ton-panel" class="content-panel">
                    <h2 class="font-bold text-2xl text-blue-600 mb-2">Temporizador TON (Timer ON-delay)</h2>
                    <p class="text-stone-600 mb-4">El temporizador TON se utiliza para retrasar la activación de una salida. Cuando su entrada de control es verdadera, el temporizador comienza a acumular tiempo. Una vez que el tiempo acumulado iguala o excede el valor preestablecido, el bit `DN` (Done) se activa. Si la entrada de control se vuelve falsa, el temporizador se reinicia.</p>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Parámetros Clave:</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-600">
                        <li>**Timer:** Nombre de la etiqueta del temporizador (ej. Motor_Delay).</li>
                        <li>**Preset (PRE):** El valor de tiempo preestablecido en milisegundos (ej. 5000 para 5 segundos).</li>
                        <li>**Accumulated (ACC):** El valor de tiempo acumulado actual.</li>
                    </ul>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Ejemplo en Ladder:</h3>
                    <div class="bg-stone-100 p-4 rounded-lg">
                        <pre class="font-mono text-sm text-stone-800">|--[XIC Start_Button]--[TON Motor_Delay PRE:5000 ACC:0]--|</pre>
                        <pre class="font-mono text-sm text-stone-800 mt-2">|--[XIC Motor_Delay.DN]--(--OTE Motor_On--)--|</pre>
                        <p class="text-xs text-stone-500 mt-2">`Motor_On` se energiza 5 segundos después de que `Start_Button` se presiona.</p>
                    </div>
                </div>

                <div id="tof-panel" class="content-panel">
                    <h2 class="font-bold text-2xl text-blue-600 mb-2">Temporizador TOF (Timer OFF-delay)</h2>
                    <p class="text-stone-600 mb-4">El temporizador TOF se utiliza para retrasar la desactivación de una salida. Cuando su entrada de control se vuelve falsa, el temporizador comienza a acumular tiempo. El bit `DN` permanece activo hasta que el tiempo acumulado iguala o excede el valor preestablecido.</p>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Parámetros Clave:</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-600">
                        <li>**Timer:** Nombre de la etiqueta del temporizador (ej. Fan_Delay).</li>
                        <li>**Preset (PRE):** El valor de tiempo preestablecido en milisegundos (ej. 10000 para 10 segundos).</li>
                        <li>**Accumulated (ACC):** El valor de tiempo acumulado actual.</li>
                    </ul>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Ejemplo en Ladder:</h3>
                    <div class="bg-stone-100 p-4 rounded-lg">
                        <pre class="font-mono text-sm text-stone-800">|--[XIC Fan_Input]--[TOF Fan_Delay PRE:10000 ACC:0]--|</pre>
                        <pre class="font-mono text-sm text-stone-800 mt-2">|--[XIC Fan_Delay.DN]--(--OTE Fan_On--)--|</pre>
                        <p class="text-xs text-stone-500 mt-2">`Fan_On` se apaga 10 segundos después de que `Fan_Input` se apaga.</p>
                    </div>
                </div>

                <div id="ctu-panel" class="content-panel">
                    <h2 class="font-bold text-2xl text-blue-600 mb-2">Contador CTU (Counter Up)</h2>
                    <p class="text-stone-600 mb-4">El contador CTU se utiliza para contar eventos ascendentes. Cada vez que su entrada de conteo (CU) pasa de un estado falso a uno verdadero (una transición de flanco), el valor acumulado (ACC) se incrementa en uno. El bit `DN` se activa cuando el valor acumulado iguala o excede el valor preestablecido.</p>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Parámetros Clave:</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-600">
                        <li>**Counter:** Nombre de la etiqueta del contador (ej. Bottle_Count).</li>
                        <li>**Preset (PRE):** El valor de conteo preestablecido (ej. 100).</li>
                        <li>**Accumulated (ACC):** El valor de conteo actual.</li>
                    </ul>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Ejemplo en Ladder:</h3>
                    <div class="bg-stone-100 p-4 rounded-lg">
                        <pre class="font-mono text-sm text-stone-800">|--[CTU Bottle_Count PRE:100 ACC:0]--|</pre>
                        <pre class="font-mono text-sm text-stone-800 mt-2">|--[XIC Bottle_Count.DN]--(--OTE Box_Ready--)--|</pre>
                        <p class="text-xs text-stone-500 mt-2">`Box_Ready` se energiza al contar 100 botellas.</p>
                    </div>
                </div>

                <div id="ctd-panel" class="content-panel">
                    <h2 class="font-bold text-2xl text-blue-600 mb-2">Contador CTD (Counter Down)</h2>
                    <p class="text-stone-600 mb-4">El contador CTD se utiliza para contar eventos descendentes. Cada vez que su entrada de conteo (CD) pasa de un estado falso a uno verdadero, el valor acumulado (ACC) se decrementa en uno. El bit `DN` se activa cuando el valor acumulado es igual o menor que cero.</p>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Parámetros Clave:</h3>
                    <ul class="list-disc list-inside space-y-1 text-stone-600">
                        <li>**Counter:** Nombre de la etiqueta del contador (ej. Pallet_Count).</li>
                        <li>**Preset (PRE):** El valor de conteo preestablecido (ej. 10).</li>
                        <li>**Accumulated (ACC):** El valor de conteo actual.</li>
                    </ul>
                    <h3 class="font-semibold text-lg text-stone-800 mt-4 mb-2">Ejemplo en Ladder:</h3>
                    <div class="bg-stone-100 p-4 rounded-lg">
                        <pre class="font-mono text-sm text-stone-800">|--[CTD Pallet_Count PRE:10 ACC:10]--|</pre>
                        <pre class="font-mono text-sm text-stone-800 mt-2">|--[XIC Pallet_Count.DN]--(--OTE Alarm_Low--)--|</pre>
                        <p class="text-xs text-stone-500 mt-2">`Alarm_Low` se energiza cuando el contador llega a cero o menos.</p>
                    </div>
                </div>
            </section>
        </main>

        <footer class="mt-12 flex flex-col md:flex-row gap-4 justify-between items-center">
            <a href="4.3.html" class="bg-blue-600 text-white px-6 py-3 rounded-lg shadow hover:bg-blue-700 font-semibold transition">Continuar con el siguiente tema</a>
            <a href="https://atapia9.github.io/proyecto-inmersion-ai/" class="bg-stone-100 text-blue-600 px-6 py-3 rounded-lg shadow hover:bg-blue-200 font-semibold transition">Regresar a la página principal</a>
        </footer>

        <div class="w-full text-center mt-6 text-stone-500 text-sm font-medium">Generado con apoyo de Google Gemini por Jesus Armando Tapia Gallegos MTDE</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const instructionCards = document.querySelectorAll('.instruction-card');
            const contentPanels = document.querySelectorAll('.content-panel');
            const initialPanel = document.getElementById('initial-panel');

            function updateDisplay(targetId) {
                contentPanels.forEach(panel => panel.classList.remove('active'));
                const targetPanel = document.getElementById(targetId);
                if (targetPanel) {
                    targetPanel.classList.add('active');
                } else {
                    initialPanel.classList.add('active');
                }
            }

            instructionCards.forEach(card => {
                card.addEventListener('click', () => {
                    instructionCards.forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    const targetId = card.dataset.target + '-panel';
                    updateDisplay(targetId);
                });
            });

            // Set a default state to the initial panel on page load
            updateDisplay('initial-panel');
        });
    </script>

</body>
</html>
